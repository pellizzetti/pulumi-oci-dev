// *** WARNING: this file was generated by the Pulumi Terraform Bridge (tfgen) Tool. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package managementagent

import (
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// This data source provides the list of Management Agent Available Histories in Oracle Cloud Infrastructure Management Agent service.
//
// Lists the availability history records of Management Agent
//
// ## Example Usage
//
// ```go
// package main
//
// import (
// 	"github.com/pulumi/pulumi-oci/sdk/go/oci/managementagent"
// 	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
// )
//
// func main() {
// 	pulumi.Run(func(ctx *pulumi.Context) error {
// 		opt0 := _var.Management_agent_available_history_time_availability_status_ended_greater_than
// 		opt1 := _var.Management_agent_available_history_time_availability_status_started_less_than
// 		_, err := managementagent.GetManagementAgentAvailableHistories(ctx, &managementagent.GetManagementAgentAvailableHistoriesArgs{
// 			ManagementAgentId:                      oci_management_agent_management_agent.Test_management_agent.Id,
// 			TimeAvailabilityStatusEndedGreaterThan: &opt0,
// 			TimeAvailabilityStatusStartedLessThan:  &opt1,
// 		}, nil)
// 		if err != nil {
// 			return err
// 		}
// 		return nil
// 	})
// }
// ```
func GetManagementAgentAvailableHistories(ctx *pulumi.Context, args *GetManagementAgentAvailableHistoriesArgs, opts ...pulumi.InvokeOption) (*GetManagementAgentAvailableHistoriesResult, error) {
	var rv GetManagementAgentAvailableHistoriesResult
	err := ctx.Invoke("oci:managementagent/getManagementAgentAvailableHistories:getManagementAgentAvailableHistories", args, &rv, opts...)
	if err != nil {
		return nil, err
	}
	return &rv, nil
}

// A collection of arguments for invoking getManagementAgentAvailableHistories.
type GetManagementAgentAvailableHistoriesArgs struct {
	Filters []GetManagementAgentAvailableHistoriesFilter `pulumi:"filters"`
	// Unique Management Agent identifier
	ManagementAgentId string `pulumi:"managementAgentId"`
	// Filter to limit the availability history results to that of time after the input time including the boundary record. Defaulted to current date minus one year. The date and time to be given as described in [RFC 3339](https://tools.ietf.org/rfc/rfc3339), section 14.29.
	TimeAvailabilityStatusEndedGreaterThan *string `pulumi:"timeAvailabilityStatusEndedGreaterThan"`
	// Filter to limit the availability history results to that of time before the input time including the boundary record Defaulted to current date. The date and time to be given as described in [RFC 3339](https://tools.ietf.org/rfc/rfc3339), section 14.29.
	TimeAvailabilityStatusStartedLessThan *string `pulumi:"timeAvailabilityStatusStartedLessThan"`
}

// A collection of values returned by getManagementAgentAvailableHistories.
type GetManagementAgentAvailableHistoriesResult struct {
	// The list of availability_histories.
	AvailabilityHistories []GetManagementAgentAvailableHistoriesAvailabilityHistory `pulumi:"availabilityHistories"`
	Filters               []GetManagementAgentAvailableHistoriesFilter              `pulumi:"filters"`
	// The provider-assigned unique ID for this managed resource.
	Id string `pulumi:"id"`
	// agent identifier
	ManagementAgentId                      string  `pulumi:"managementAgentId"`
	TimeAvailabilityStatusEndedGreaterThan *string `pulumi:"timeAvailabilityStatusEndedGreaterThan"`
	TimeAvailabilityStatusStartedLessThan  *string `pulumi:"timeAvailabilityStatusStartedLessThan"`
}
